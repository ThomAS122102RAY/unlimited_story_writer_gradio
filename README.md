# 📝 AI 深度寫作助手 v3.0 - 安裝與使用指南

你好！這是利用你的顯卡進行本地運算的 AI 寫作工具。因為是私有架設，完全免費且隱私安全。本版本 (v3.0) 新增了劇情記憶、語言選擇與模型快選功能。

---

## ⚠️ 電腦建議規格

* **系統**：Windows 10 或 11
* **顯卡**：建議使用 NVIDIA 顯卡
    * **極致體驗**：VRAM 16GB 以上 (可跑 gemma2:27b 或 command-r)
    * **流暢體驗**：VRAM 8GB - 12GB (可跑 gemma2:9b 或 mistral-nemo)
* **硬碟**：請預留約 20GB - 40GB 空間 (用於儲存 AI 模型)。

---

## 第一步：環境安裝 (只需做一次)

### 1. 安裝 Python
* [下載連結 (Python 3.10)](https://www.python.org/downloads/)
* **重要：** 安裝時務必勾選 **"Add Python to PATH"**。

### 2. 安裝 AI 引擎 (Ollama)
* [Ollama 官網](https://ollama.com/)
* 安裝後，確認右下角工作列有「羊駝」圖示。

### 3. 設定專案
1. 解壓縮專案資料夾。
2. 在資料夾路徑列輸入 `cmd` 並按 Enter。
3. 輸入指令安裝必要套件：
   ```bash
   pip install -r requirements.txt
   ```

---

## 第二步：如何更換與下載新模型 (從零開始)

如果你想要更換不同的 AI 靈魂，請依照以下步驟操作：

### 1. 挑選模型
你可以前往 [Ollama 官方模型庫](https://ollama.com/library) 查看所有可用模型。常見推薦：
* `gemma2:27b`：文筆細膩，邏輯強 (需較高顯存)。
* `command-r`：專為長文本與角色扮演設計，極少說教。
* `mistral-nemo`：平衡性極佳，適合 12GB 顯存的顯卡。

### 2. 下載模型
1. 按下 `Win + R`，輸入 `cmd` 並按 Enter。
2. 輸入 `ollama run 模型名稱`。例如想換成 `command-r`：
   ```bash
   ollama run command-r
   ```
3. 等待下載進度條跑完。當看到對話游標時，代表模型已安裝在你的電腦裡。
4. **關閉視窗即可**，模型會一直在後端待命。

---

## 第三步：開始寫作

1. 雙擊執行 **`啟動.bat`**。
2. 瀏覽器開啟後，在 **「⚙️ 核心設定」** 區域：
   - **模型快選**：點擊下拉選單選擇你剛下載的模型（或手動輸入名稱）。
   - **劇情記憶**：在寫長篇故事時，將重要進度簡述填入此框中，AI 永遠不會忘記。
3. 設定完成後點擊 **「設定完成，開始創作」**。

---

## 🌟 v3.0 新功能亮點

* **🧠 核心記憶 (Memory)**：新增不隨對話長度消失的記憶區，保持長線劇情不崩壞。
* **🌍 語言切換**：支援繁中、簡中、英文、日文等多國語言輸出。
* **🖋️ 格式控制**：可自定義「對話比例」與「段落密度」。
* **👁️ 感官權重**：針對視覺、聽覺、觸覺等五種感官進行百分比調整。

---

## ❓ 常見問題

* **Q: 點擊生成後沒反應？**
  * A: 請檢查黑底視窗是否有報錯，並確認 Ollama 羊駝圖示是否在執行。
* **Q: 換了模型後變得很慢？**
  * A: 如果模型太大（如 27b 模型）超出顯卡的記憶體 (VRAM)，電腦會改用 CPU 運算，速度會大幅下降。建議更換成較小的模型（如 9b 系列）。
